import unittest
from range import iterator_range
from range import generator_range

class GenerationTest(unittest.TestCase):

    def test_iterator_1(self):
        generator = iterator_range(1, 8, 2)
        self.assertEqual(1, next(generator))
        self.assertEqual(3, next(generator))
        self.assertEqual(5, next(generator))
        self.assertEqual(7, next(generator))
        self.assertRaises(StopIteration, lambda: next(generator))

    def test_iterator_2(self):
        generator = iterator_range(3, 9, 2)
        self.assertEqual(3, next(generator))
        self.assertEqual(5, next(generator))
        self.assertEqual(7, next(generator))
        self.assertRaises(StopIteration, lambda: next(generator))

    def test_stop(self):
        generator = iterator_range(1, 1, 3)
        with self.assertRaises(StopIteration):
            next(generator)


    def test_equal_range_iterator(self):
        test_iter_range_1 = list(iterator_range(1, 10, 1))
        test_range_1 = list(range(1, 10, 1))
        test_iter_range_2 = list(generator_range(5, 22, 3))
        test_range_2 = list(range(5, 22, 3))
        self.assertEqual(test_iter_range_1, test_range_1)
        self.assertEqual(test_iter_range_2, test_range_2)


    def test_generator(self):
        generator = generator_range(1, 8, 2)
        self.assertEqual(1, next(generator))
        self.assertEqual(3, next(generator))
        self.assertEqual(5, next(generator))
        self.assertEqual(7, next(generator))

    def test_generator_2(self):
        generator = generator_range(3, 9, 2)
        self.assertEqual(3, next(generator))
        self.assertEqual(5, next(generator))
        self.assertEqual(7, next(generator))
        self.assertRaises(StopIteration, lambda: next(generator))

    def test_equal_range_generator(self):
        test_myrange_1 = list(generator_range(1, 10, 1))
        test_range_1 = list(range(1, 10, 1))
        test_myrange_2 = list(generator_range(5, 22, 3))
        test_range_2 = list(range(5, 22, 3))
        self.assertEqual(test_range_1, test_myrange_1)
        self.assertEqual(test_range_2, test_myrange_2)

if __name__ == '__main__':
    unittest.main()
